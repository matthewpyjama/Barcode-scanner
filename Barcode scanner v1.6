<!DOCTYPE html>
<html>
<head>
  <title>Barcode Scanner</title>
  <script src="https://rawgit.com/schmich/instascan-builds/master/instascan.min.js"></script>
</head>
<body>
  <video id="preview"></video>
  <script>
    window.onload = function() {
      if (typeof Instascan === 'undefined') {
        console.error("Instascan is not loaded!");
        return;
      }
      console.log("Instascan loaded successfully");
      let scanner = new Instascan.Scanner({ video: document.getElementById('preview') });
      Instascan.Camera.getCameras()
        .then(cameras => {
          if (cameras.length > 0) {
            scanner.start(cameras[0]);
            console.log("Camera started");
          } else {
            console.error("No cameras found");
          }
        })
        .catch(err => console.error("Camera error:", err));
    };
  </script>
</body>
</html>
